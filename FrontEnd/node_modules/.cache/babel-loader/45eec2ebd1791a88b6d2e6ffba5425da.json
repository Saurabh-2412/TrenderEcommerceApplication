{"ast":null,"code":"var _jsxFileName = \"E:\\\\NeogCampProjects\\\\LevelOneProjects\\\\E-Commerce\\\\ecommerce\\\\src\\\\Product\\\\ProductListing.js\",\n    _s = $RefreshSig$();\n\nimport { data } from \"../data\";\nimport { useState, useReducer, useEffect } from \"react\";\nimport { useCart } from \"../Cart/CartContext\";\nimport { useWishList } from \"../Cart/CartContext\";\nimport { useBttnCart } from \"../Cart/CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ProductListing() {\n  _s();\n\n  // var [cartList, setCartList] = useState([]);\n  const {\n    ItemsInCart,\n    SetItemsInCart\n  } = useCart([]);\n  const {\n    ItemsInWishList,\n    SetItemsInWishList\n  } = useWishList([]);\n\n  function onClickHandler(item) {\n    //SetBttnText(\"Go to cart\");\n    if (ItemsInCart.some(e => e.id === item.id)) {\n      SetItemsInCart(itincart => itincart.map(it => {\n        if (it.id === item.id) {\n          return { ...it,\n            quantity: it.quantity + 1\n          };\n        }\n\n        return it;\n      }));\n    } else {\n      SetItemsInCart(cartItems => [...cartItems, { ...item,\n        quantity: 1\n      }]);\n    }\n  }\n\n  useEffect(() => {\n    // setCurrentList(JSON.parse(localStorage.getItem(wishList)));\n    const savingItem = localStorage.setItem(\"ItemsInCart\", JSON.stringify(ItemsInCart));\n    console.log(\"data saved...\" + savingItem);\n  });\n\n  function onWishListClickHandler(item) {\n    console.log(\"WishList\", item);\n    const newItem = ItemsInWishList.find(e => e.id === item.id);\n\n    if (newItem) {\n      SetItemsInWishList(itincart => itincart.map(it => {\n        if (it.id === item.id) {\n          return { ...it\n          };\n        }\n\n        return it;\n      }));\n    } else {\n      SetItemsInWishList(WishListItems => [...WishListItems, { ...item\n      }]);\n    }\n  }\n\n  useEffect(() => {\n    // setCurrentList(JSON.parse(localStorage.getItem(wishList)));\n    const savingItem = localStorage.setItem(\"ItemsInWishList\", JSON.stringify(ItemsInWishList));\n    console.log(\"data saved...\" + savingItem);\n  });\n  const [{\n    showInventoryAll,\n    showFastDeliveryOnly,\n    sortBy\n  }, dispatch] = useReducer(function reducer(state, action) {\n    switch (action.type) {\n      case \"TOGGLE_INVENTORY\":\n        return state = { ...state,\n          showInventoryAll: !state.showInventoryAll\n        };\n\n      case \"TOGGLE_DELIVERY\":\n        return state = { ...state,\n          showFastDeliveryOnly: !state.showFastDeliveryOnly\n        };\n\n      case \"SORT\":\n        return { ...state,\n          sortBy: action.payload\n        };\n\n      default:\n        return state;\n    }\n  }, {\n    showInventoryAll: true,\n    showFastDeliveryOnly: false,\n    sortBy: null\n  });\n\n  function getSortedData(productList, sortBy) {\n    if (sortBy && sortBy === \"PRICE_HIGH_TO_LOW\") {\n      return productList.sort((a, b) => b[\"price\"] - a[\"price\"]);\n    }\n\n    if (sortBy && sortBy === \"PRICE_LOW_TO_HIGH\") {\n      return productList.sort((a, b) => a[\"price\"] - b[\"price\"]);\n    }\n\n    return productList;\n  }\n\n  function getFilteredData(productList, {\n    showFastDeliveryOnly,\n    showInventoryAll\n  }) {\n    return productList.filter(({\n      fastDelivery\n    }) => showFastDeliveryOnly ? fastDelivery : true).filter(({\n      inStock\n    }) => showInventoryAll ? true : inStock);\n  }\n\n  const sortedData = getSortedData(data, sortBy);\n  const filteredData = getFilteredData(sortedData, {\n    showFastDeliveryOnly,\n    showInventoryAll\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Sort By\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"sort\",\n            onChange: () => dispatch({\n              type: \"SORT\",\n              payload: \"PRICE_HIGH_TO_LOW\"\n            }),\n            checked: sortBy && sortBy === \"PRICE_HIGH_TO_LOW\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), \" \", \"Price - High to Low\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"sort\",\n            onChange: () => dispatch({\n              type: \"SORT\",\n              payload: \"PRICE_LOW_TO_HIGH\"\n            }),\n            checked: sortBy && sortBy === \"PRICE_LOW_TO_HIGH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), \" \", \"Price - Low to High\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        style: {\n          marginTop: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \" Filters \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showInventoryAll,\n            onChange: () => dispatch({\n              type: \"TOGGLE_INVENTORY\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), \"Include Out of Stock\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showFastDeliveryOnly,\n            onChange: () => dispatch({\n              type: \"TOGGLE_DELIVERY\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), \"Fast Delivery Only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Products Listing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), filteredData.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.image,\n            alt: item.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), \"Name : \", item.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), \"Avalibility :\", item.inStock && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" In Stock \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 45\n          }, this), !item.inStock && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" Out of Stock \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), item.fastDelivery ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" Fast Delivery \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" 4 days minimum \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), \"Price : \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onClickHandler(item),\n            children: \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onWishListClickHandler(item),\n            children: \"Add to WishList\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductListing, \"OYreN6RYPHg0nvMVNwce5OmTQas=\", false, function () {\n  return [useCart, useWishList];\n});\n\n_c = ProductListing;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductListing\");","map":{"version":3,"sources":["E:/NeogCampProjects/LevelOneProjects/E-Commerce/ecommerce/src/Product/ProductListing.js"],"names":["data","useState","useReducer","useEffect","useCart","useWishList","useBttnCart","ProductListing","ItemsInCart","SetItemsInCart","ItemsInWishList","SetItemsInWishList","onClickHandler","item","some","e","id","itincart","map","it","quantity","cartItems","savingItem","localStorage","setItem","JSON","stringify","console","log","onWishListClickHandler","newItem","find","WishListItems","showInventoryAll","showFastDeliveryOnly","sortBy","dispatch","reducer","state","action","type","payload","getSortedData","productList","sort","a","b","getFilteredData","filter","fastDelivery","inStock","sortedData","filteredData","marginTop","image","name","price"],"mappings":"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","sourcesContent":["import { data } from \"../data\";\r\nimport { useState, useReducer, useEffect } from \"react\";\r\nimport { useCart } from \"../Cart/CartContext\";\r\nimport { useWishList } from \"../Cart/CartContext\";\r\nimport { useBttnCart } from \"../Cart/CartContext\";\r\n\r\nexport function ProductListing() {\r\n  // var [cartList, setCartList] = useState([]);\r\n  const { ItemsInCart, SetItemsInCart } = useCart([]);\r\n  const { ItemsInWishList, SetItemsInWishList } = useWishList([]);\r\n\r\n  function onClickHandler(item) {\r\n    //SetBttnText(\"Go to cart\");\r\n    if (ItemsInCart.some((e) => e.id === item.id)) {\r\n      SetItemsInCart((itincart) =>\r\n        itincart.map((it) => {\r\n          if (it.id === item.id) {\r\n            return { ...it, quantity: it.quantity + 1 };\r\n          }\r\n          return it;\r\n        })\r\n      );\r\n    } else {\r\n      SetItemsInCart((cartItems) => [...cartItems, { ...item, quantity: 1 }]);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // setCurrentList(JSON.parse(localStorage.getItem(wishList)));\r\n    const savingItem = localStorage.setItem(\r\n      \"ItemsInCart\",\r\n      JSON.stringify(ItemsInCart)\r\n    );\r\n    console.log(\"data saved...\" + savingItem);\r\n  });\r\n\r\n  function onWishListClickHandler(item) {\r\n    console.log(\"WishList\", item);\r\n    const newItem = ItemsInWishList.find((e) => e.id === item.id);\r\n    if (newItem) {\r\n      SetItemsInWishList((itincart) =>\r\n        itincart.map((it) => {\r\n          if (it.id === item.id) {\r\n            return { ...it };\r\n          }\r\n          return it;\r\n        })\r\n      );\r\n    } else {\r\n      SetItemsInWishList((WishListItems) => [...WishListItems, { ...item }]);\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    // setCurrentList(JSON.parse(localStorage.getItem(wishList)));\r\n    const savingItem = localStorage.setItem(\r\n      \"ItemsInWishList\",\r\n      JSON.stringify(ItemsInWishList)\r\n    );\r\n    console.log(\"data saved...\" + savingItem);\r\n  });\r\n\r\n  const [\r\n    { showInventoryAll, showFastDeliveryOnly, sortBy },\r\n    dispatch\r\n  ] = useReducer(\r\n    function reducer(state, action) {\r\n      switch (action.type) {\r\n        case \"TOGGLE_INVENTORY\":\r\n          return (state = {\r\n            ...state,\r\n            showInventoryAll: !state.showInventoryAll\r\n          });\r\n\r\n        case \"TOGGLE_DELIVERY\":\r\n          return (state = {\r\n            ...state,\r\n            showFastDeliveryOnly: !state.showFastDeliveryOnly\r\n          });\r\n        case \"SORT\":\r\n          return {\r\n            ...state,\r\n            sortBy: action.payload\r\n          };\r\n        default:\r\n          return state;\r\n      }\r\n    },\r\n    {\r\n      showInventoryAll: true,\r\n      showFastDeliveryOnly: false,\r\n      sortBy: null\r\n    }\r\n  );\r\n\r\n  function getSortedData(productList, sortBy) {\r\n    if (sortBy && sortBy === \"PRICE_HIGH_TO_LOW\") {\r\n      return productList.sort((a, b) => b[\"price\"] - a[\"price\"]);\r\n    }\r\n\r\n    if (sortBy && sortBy === \"PRICE_LOW_TO_HIGH\") {\r\n      return productList.sort((a, b) => a[\"price\"] - b[\"price\"]);\r\n    }\r\n    return productList;\r\n  }\r\n\r\n  function getFilteredData(\r\n    productList,\r\n    { showFastDeliveryOnly, showInventoryAll }\r\n  ) {\r\n    return productList\r\n      .filter(({ fastDelivery }) =>\r\n        showFastDeliveryOnly ? fastDelivery : true\r\n      )\r\n      .filter(({ inStock }) => (showInventoryAll ? true : inStock));\r\n  }\r\n\r\n  const sortedData = getSortedData(data, sortBy);\r\n  const filteredData = getFilteredData(sortedData, {\r\n    showFastDeliveryOnly,\r\n    showInventoryAll\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <fieldset>\r\n          <legend>Sort By</legend>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sort\"\r\n              onChange={() =>\r\n                dispatch({ type: \"SORT\", payload: \"PRICE_HIGH_TO_LOW\" })\r\n              }\r\n              checked={sortBy && sortBy === \"PRICE_HIGH_TO_LOW\"}\r\n            ></input>{\" \"}\r\n            Price - High to Low\r\n          </label>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sort\"\r\n              onChange={() =>\r\n                dispatch({ type: \"SORT\", payload: \"PRICE_LOW_TO_HIGH\" })\r\n              }\r\n              checked={sortBy && sortBy === \"PRICE_LOW_TO_HIGH\"}\r\n            ></input>{\" \"}\r\n            Price - Low to High\r\n          </label>\r\n        </fieldset>\r\n        <fieldset style={{ marginTop: \"1rem\" }}>\r\n          <legend> Filters </legend>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showInventoryAll}\r\n              onChange={() => dispatch({ type: \"TOGGLE_INVENTORY\" })}\r\n            />\r\n            Include Out of Stock\r\n          </label>\r\n\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showFastDeliveryOnly}\r\n              onChange={() => dispatch({ type: \"TOGGLE_DELIVERY\" })}\r\n            />\r\n            Fast Delivery Only\r\n          </label>\r\n        </fieldset>\r\n\r\n        <h1>Products Listing</h1>\r\n        {filteredData.map(function (item) {\r\n          return (\r\n            <li key={item.id}>\r\n              <img src={item.image} alt={item.image} />\r\n              <br />\r\n              <br />\r\n              Name : {item.name}\r\n              <br />\r\n              Avalibility :{item.inStock && <span> In Stock </span>}\r\n              {!item.inStock && <span> Out of Stock </span>}\r\n              <br />\r\n              {item.fastDelivery ? (\r\n                <div> Fast Delivery </div>\r\n              ) : (\r\n                <div> 4 days minimum </div>\r\n              )}\r\n              <br />\r\n              Price : {item.price}\r\n              <br />\r\n              {/*Brand : {item.brand}\r\n            <br />\r\n            Ratings : {item.ratings}\r\n            <br />\r\n            Offer : {item.offer}\r\n            <br /> \r\n              <br />*/}\r\n              <br />\r\n              <button onClick={() => onClickHandler(item)}>Add to cart</button>\r\n              <br />\r\n              <br />\r\n              <button onClick={() => onWishListClickHandler(item)}>\r\n                Add to WishList\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}